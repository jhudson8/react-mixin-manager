/*!
 * https://github.com/jhudson8/react-mixin-manager v0.9.1;  MIT license; Joe Hudson<joehud_AT_gmail.com>
 */
!function(e){"function"==typeof define&&define.amd?define([],function(){return e}):"undefined"!=typeof exports&&"undefined"!=typeof require?module.exports=function(t){e(t)}:e(React)}(function(React){function setState(e,t){if(t.isMounted())t.setState(e);else if(t.state)for(var i in e)t.state[i]=e[i];else{var n=t.__temporary_state||{};for(var i in e)n[i]=e[i];t.__temporary_state=n}}function getState(e,t){var i=t.state,n=t.__temporary_state;return i&&i[e]||n&&n[e]}function get(values,index,initiatedOnce,rtn){function addTo(name){var indexName=name,match=name.match(/^([^\(]*)\s*\(([^\)]*)\)\s*/),params=match&&match[2];if(name=match&&match[1]||name,!index[indexName]){params&&(params=eval("["+params+"]"));var mixin=React.mixins._mixins[name],checkAgain=!1,skip=!1;if(!mixin)throw new Error('invalid mixin "'+name+'"');if("function"==typeof mixin)React.mixins._initiatedOnce[name]?(initiatedOnce[name]=initiatedOnce[name]||[],initiatedOnce[name].push(params),skip=!0):(mixin=mixin.apply(this,params||[]),checkAgain=!0);else if(params)throw new Error('the mixin "'+name+'" does not support parameters');get(React.mixins._dependsOn[name],index,initiatedOnce,rtn),get(React.mixins._dependsInjected[name],index,initiatedOnce,rtn),index[indexName]=!0,checkAgain?get([mixin],index,initiatedOnce,rtn):skip||rtn.push(mixin)}}function handleMixin(e){e&&(Array.isArray(e)?get(e,index,initiatedOnce,rtn):"string"==typeof e?addTo(e):rtn.push(e))}if(Array.isArray(values))for(var i=0;i<values.length;i++)handleMixin(values[i]);else handleMixin(values)}function getInitiatedOnce(e,t){function i(e,i){e=e.apply(this,i||[]),t.push(e)}for(var n in e)e.hasOwnProperty(n)&&i(React.mixins._mixins[n],e[n])}function addMixin(e,t,i,n,a){var r=React.mixins;(n||!r._mixins[e])&&(r._dependsOn[e]=i.length&&i,r._mixins[e]=t,a&&(r._initiatedOnce[e]=!0))}function GROUP(){}function mixinParams(e,t){var i,n=e[0],a=!1;if("object"==typeof n?(i=n.name,a=n.initiatedOnce):i=n,!i||!i.length)throw new Error("the mixin name hasn't been specified");return Array.isArray(e[1])?[i,e[1][0],Array.prototype.slice.call(e[1],1),t,a]:[i,e[1],Array.prototype.slice.call(e,2),t,a]}var _createClass=React.createClass;React.createClass=function(e){return e.mixins&&(e.mixins=React.mixins.get(e.mixins)),_createClass.apply(React,arguments)},React.mixins={get:function(){var e=[],t={},i={};return get(Array.prototype.slice.call(arguments),t,i,e),getInitiatedOnce(i,e),e},inject:function(e){var t=this._dependsInjected[e];t||(t=this._dependsInjected[e]=[]),t.push(Array.prototype.slice.call(arguments,1))},alias:function(e){addMixin(e,GROUP,Array.prototype.slice.call(arguments,1),!1)},add:function(){addMixin.apply(this,mixinParams(arguments,!1))},replace:function(){addMixin.apply(this,mixinParams(arguments,!0))},exists:function(e){return this._mixins[e]||!1},_dependsOn:{},_dependsInjected:{},_mixins:{},_initiatedOnce:{}},React.mixins.add("deferUpdate",{getInitialState:function(){return{}},deferUpdate:function(){var e=this.state;if(!e._deferUpdate){e._deferUpdate=!0;var t=this;setTimeout(function(){delete e._deferUpdate,t.isMounted()&&t.forceUpdate()},0)}}}),React.mixins.add("state",{getInitialState:function(){return{}},componentWillMount:function(){var e=this.__temporary_state;if(e){for(var t in e)this.state[t]=e[t];delete this.__temporary_state}}}),React.mixins.setState=setState,React.mixins.getState=getState});