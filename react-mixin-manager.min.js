/*!
 * https://github.com/jhudson8/react-mixin-manager v0.10.0;  MIT license; Joe Hudson<joehud_AT_gmail.com>
 */
!function(e){"function"==typeof define&&define.amd?define([],function(){return e}):"undefined"!=typeof exports&&"undefined"!=typeof require?module.exports=e:e(React)}(function(React){function setState(e,i){if(i.isMounted())i.setState(e);else if(i.state)for(var n in e)e.hasOwnProperty(n)&&(i.state[n]=e[n]);else{var t=i.__temporary_state||{};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.__temporary_state=t}}function getState(e,i){var n=i.state,t=i.__temporary_state;return n&&n[e]||t&&t[e]}function get(values,index,initiatedOnce,rtn){function addTo(name){var indexName=name,match=name.match(/^([^\(]*)\s*\(([^\)]*)\)\s*/),params=match&&match[2];if(name=match&&match[1]||name,!index[indexName]){params&&(params=eval("["+params+"]"));var mixin=_mixins[name],checkAgain=!1,skip=!1;if(!mixin)throw new Error('invalid mixin "'+name+'"');if("function"==typeof mixin)_initiatedOnce[name]?(initiatedOnce[name]?skip=!0:(initiatedOnce[name]=[],mixin=name),params&&initiatedOnce[name].push(params)):(mixin=mixin.apply(this,params||[]),checkAgain=!0);else if(params)throw new Error('the mixin "'+name+'" does not support parameters');get(_dependsOn[name],index,initiatedOnce,rtn),get(_dependsInjected[name],index,initiatedOnce,rtn),index[indexName]=!0,checkAgain?get([mixin],index,initiatedOnce,rtn):skip||rtn.push(mixin)}}function handleMixin(e){if(e)if(Array.isArray(e))get(e,index,initiatedOnce,rtn);else if("string"==typeof e)addTo(e);else{if(e.mixins){get(e.mixins,index,initiatedOnce,rtn);var i=_mixins[e];if(!i){i={};for(var n in e)"mixins"!==n&&(i[n]=e[n])}_mixins[e]=i,e=i}rtn.push(e)}}if(Array.isArray(values))for(var i=0;i<values.length;i++)handleMixin(values[i]);else handleMixin(values)}function applyInitiatedOnceArgs(e,i){function n(e,n,t){n=n.call(this,t||[]);var a=i.indexOf(e);i.splice(a,1,n)}for(var t in e)e.hasOwnProperty(t)&&n(t,_mixins[t],e[t])}function addMixin(e,i,n,t,a){(t||!_mixins[e])&&(n.length&&(_dependsOn[e]=n),_mixins[e]=i,a&&(_initiatedOnce[e]=!0))}function GROUP(){}function mixinParams(e,i){var n,t=e[0],a=!1;if("object"==typeof t?(n=t.name,a=t.initiatedOnce):n=t,!n||!n.length)throw new Error("the mixin name hasn't been specified");return Array.isArray(e[1])?[n,e[1][0],Array.prototype.slice.call(e[1],1),i,a]:[n,e[1],Array.prototype.slice.call(e,2),i,a]}var _dependsOn={},_dependsInjected={},_mixins={},_initiatedOnce={},_createClass=React.createClass;React.createClass=function(e){return e.mixins&&(e.mixins=React.mixins.get(e.mixins)),_createClass.apply(React,arguments)},React.mixins={get:function(){var e=[],i={},n={};return get(Array.prototype.slice.call(arguments),i,n,e),applyInitiatedOnceArgs(n,e),e},inject:function(e){var i=_dependsInjected[e];i||(i=_dependsInjected[e]=[]),i.push(Array.prototype.slice.call(arguments,1))},alias:function(e){addMixin(e,GROUP,Array.prototype.slice.call(arguments,1),!1)},add:function(){addMixin.apply(this,mixinParams(arguments,!1))},replace:function(){addMixin.apply(this,mixinParams(arguments,!0))},exists:function(e){return _mixins[e]||!1},_reset:function(){_dependsOn={},_mixins={},_dependsInjected={},_initiatedOnce={}}},React.mixins.add("deferUpdate",{getInitialState:function(){return{}},deferUpdate:function(){var e=this.state;if(!e._deferUpdate){e._deferUpdate=!0;var i=this;setTimeout(function(){delete e._deferUpdate,i.isMounted()&&i.forceUpdate()},0)}}}),React.mixins.add("state",{getInitialState:function(){return{}},componentWillMount:function(){var e=this.__temporary_state;if(e){for(var i in e)e.hasOwnProperty(i)&&(this.state[i]=e[i]);delete this.__temporary_state}}}),React.mixins.setState=setState,React.mixins.getState=getState});